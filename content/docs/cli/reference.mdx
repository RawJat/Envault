---
title: CLI Overview
description: Install, authenticate, and use environment-scoped secret workflows from your terminal
---

import { Tab, Tabs } from "fumadocs-ui/components/tabs";
import { Callout } from "fumadocs-ui/components/callout";

# Envault CLI

The Envault CLI is the fastest way to work with project secrets across `development`, `preview`, and `production` without leaving your terminal.

## Installation

### Universal Script (Recommended)

The easiest way to install Envault on macOS and Linux.

```bash
curl -fsSL https://raw.githubusercontent.com/DinanathDash/Envault/main/install.sh | sh
```

### Homebrew (macOS & Linux)

If you use Homebrew, you can install Envault via our official tap.

```bash
brew tap DinanathDash/envault
brew install envault
```

### JS Package Managers

Envault is available as an NPM package, allowing you to use it with any Node.js package manager.

<Tabs items={["npm", "pnpm", "yarn", "bun"]}>
  <Tab value="npm">
```bash
npm install -g @dinanathdash/envault
```
  </Tab>
  <Tab value="pnpm">
```bash
pnpm add -g @dinanathdash/envault
```
  </Tab>
  <Tab value="yarn">
```bash
yarn global add @dinanathdash/envault
```
  </Tab>
  <Tab value="bun">
```bash
bun add -g @dinanathdash/envault
```
  </Tab>
</Tabs>

You can also run it directly without global install:

```bash
npx @dinanathdash/envault <command>
```

## Global Flags

All commands accept these global flags:

- `--config <path>`: Use a specific config file instead of `~/.envault/config.toml`
- `-e, --env <slug>`: Target environment (`development`, `preview`, `production`, or any valid project environment slug)
- `-v, --version`: Print CLI version

## Quick Workflow

```bash
# 1) Authenticate once
envault login

# 2) Link current directory to a project
envault init

# 3) Inspect current context (user, role, project, environment)
envault status

# 4) Pull one environment to local file
envault pull --env preview --file .env.preview

# 5) Compare local vs remote before deploy
envault diff --env preview --file .env.preview

# 6) Deploy to target environment
envault deploy --env preview --file .env.preview
```

See [Commands](/docs/cli/commands) for full details.

## Environment-Scoped Local Files

When a command needs a local env file (`pull`, `diff`, `deploy`), Envault resolves file path in this order:

1. `--file`
2. `envault env map --env <slug> --file <path>`
3. Auto-detected `.env*` candidate in current directory (example/sample/template files are ignored)
4. Fallback `.env`

Recommended setup:

```bash
envault env map --env development --file .env.development
envault env map --env preview --file .env.preview
envault env map --env production --file .env.production
envault env default --env development
```

Then run commands without repeating `--file`.

## Command Index

- `envault login`: authenticate via device flow
- `envault init`: link current directory to a project
- `envault status`: show auth/project/environment context
- `envault pull`: fetch remote secrets into local file
- `envault diff`: show local vs remote key/value drift
- `envault deploy` or `envault push`: push local secrets to remote
- `envault run -- <cmd>`: run a command with injected secrets
- `envault env map|unmap|default`: manage local file mappings/default env
- `envault version` or `envault --version`: print version
- `envault completion <shell>`: generate shell completion

## Authentication & Sessions

Envault CLI relies on secure Device Flow for interactive authentication. When you run `envault login`:
- A **30-day Refresh Token** is generated and saved securely in your native OS Secure Enclave (macOS Keychain, Windows Credential Manager, or Linux Secret Service).
- A **1-hour Access Token** is stored in your configuration file (`~/.envault/config.toml`).

The CLI features an **Auto-Refresh Interceptor**. If your access token expires, the CLI silently securely requests a new one using your keyring refresh token and retries your command without failing, creating a seamless rolling session.

## Automatic Updates

Envault performs a non-blocking update check after commands and shows a hint when a newer release is available.

## Environment Variables

The Envault CLI uses the following environment variables for configuration:

| Variable              | Description                          | Default                        |
| :-------------------- | :----------------------------------- | :----------------------------- |
| `ENVAULT_CLI_URL`     | The URL of the Envault API server.   | `https://envault.tech/api/cli` |
| `ENVAULT_CONFIG_FILE` | Path to a custom configuration file. | `~/.envault/config.toml`       |

### Using Local Instance

To test against a local instance of Envault:

```bash
export ENVAULT_CLI_URL="http://localhost:3000/api/cli"
envault login
```

<Callout type="warn">
  Insecure (HTTP) connections are only permitted when the hostname is
  `localhost` or `127.0.0.1`.
</Callout>
